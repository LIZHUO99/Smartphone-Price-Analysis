# Smartphone Price Analysis

对淘宝和京东销量排名靠前的手机进行爬虫和数据清洗, 用获得的数据进行手机价格的简单对比和分析.

- 爬取淘宝数据以及清洗和分析数据的python文件在scrap_taobao&Analysis文件夹下。
- 爬取京东数据的文件在jdSpider文件夹下。



## Task 1

爬取了淘宝和京东搜索“手机”关键词并用销量排序后的前个100左右商品的详情页。

### 说明

1.  由于淘宝的付款人数只有每月的数据，并没有累计销量（月数据受活动影响较大），但是淘宝京东都有累计评价，所以都使用了累计评价数计销量。

2. 使用scrapy爬取淘宝数据时，即使改了http的请求头，使用了cookie还是会被重定向到滑块认证界面。最后选择了使用selenium自动模仿用户操作，解决了重定向的问题，成功地爬取到了数据。

3. 使用scrapy爬取京东数据时，通过改请求头、使用cookie成功地避免了被重定向，但是由于京东商品详情页地价格数据是异步加载的，所以在中间件中使用了selenium获得完整的html。

   淘宝详情页图：只有月销量和累计评价

   ![](.\snapshots\README1.jpg)



## Task 2

对爬取的数据进行清洗：

处理前的京东数据（例）：

```
"price","phone_type","shop","sales","title"
"5499.00","64GB","Apple产品京东自营旗舰店","(85万+)","\n                                                            Apple iPhone 11 (A2223) 64GB 黑色 移动联通电信4G手机 双卡双待                "
```

 

处理后的京东数据（例）：

```
price,phone_type,shop,sales,title
5499.0,64GB,Apple产品京东自营旗舰店,283333.0,iPhone11
```

 

处理前的淘宝数据（例）：

```
"type","price","sales","shop","title"
"【顶配版】移动/联通2.8英寸屏","95.00","415976","创于佳讯数码专营店","【4G全网通】纽曼 M560正品老人机超长待机直板老年手机大屏大字大声音移动联通电信版女学生功能按键小手机"
```

 

处理后的淘宝数据（例）：

```
type,price,sales,shop,title
移动/联通2.8英寸屏,95.00,69329.0,创于佳讯数码专营店,纽曼M560
```



## Task 3

### 3.1

分别爬取京东和淘宝，在手机频道中，找出累积销量 （所有商家销售同一型号手机的销量之和）最高的20款手机。一款手机有多个型号，不同的配置算不同的型号。

按照销量，以直方图的形式展示手机型号及其 销量 ，按照销量倒排序。

![](.\snapshots\README2.jpg)

### 3.2

用爬取下来的数据制作散点图，横轴为手机价格，纵轴为该价格对应的商家个数。

![](.\snapshots\README3.jpg)

### 3.3

找出在两个平台上都有售卖的 5 款手机（找销量较大的），由于两个平台上都有不同的卖家都销售这些手机，价格也不同，需要将这些卖家销售这款手机的价格，做出箱型图，比较不同平台上的价格情况。

![](.\snapshots\README4.jpg)